(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{sCmA:function(e,a,t){"use strict";t.r(a);var r=t("/MKj"),n=t("q1tI"),o=t.n(n),i=t("17x9"),s=t.n(i),l=t("EVdn"),c=t.n(l),m=t("LvDl"),d=t.n(m),u=t("Ty5D"),p=t("hQIo"),f=t("pb+D"),h=t("55Ip"),b={name:s.a.string.isRequired,email:s.a.string.isRequired,password:s.a.string.isRequired,passwordConfirmation:s.a.string.isRequired,errors:s.a.object.isRequired,handleChange:s.a.func.isRequired,handleSubmit:s.a.func.isRequired},v=function(e){var a=e.name,t=e.email,r=e.password,n=e.passwordConfirmation,i=e.errors,s=e.handleChange,l=e.handleSubmit;return o.a.createElement("form",{className:"form",role:"form",onSubmit:l,noValidate:!0},o.a.createElement("h2",{className:"card-title"},"Sign up"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name",className:"sr-only"},"Email"),o.a.createElement("input",{type:"text",className:"form-control form-control-lg rounded-0 ".concat(i.has("name")&&"is-invalid"),name:"name",id:"name",placeholder:"Full Name",value:a||"",onChange:function(e){return s(e.target.name,e.target.value)},required:!0,autoFocus:!0}),i.has("name")&&o.a.createElement("div",{className:"invalid-feedback"},i.first("name"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email",className:"sr-only"},"Email"),o.a.createElement("input",{type:"email",className:"form-control form-control-lg rounded-0 ".concat(i.has("email")&&"is-invalid"),name:"email",id:"email",placeholder:"Email address",value:t||"",onChange:function(e){return s(e.target.name,e.target.value)},required:!0,autoFocus:!0}),i.has("email")&&o.a.createElement("div",{className:"invalid-feedback"},i.first("email"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"password",className:"sr-only"},"Password"),o.a.createElement("input",{type:"password",className:"form-control form-control-lg rounded-0 ".concat(i.has("password")&&"is-invalid"),id:"password",name:"password",placeholder:"Password",value:r||"",onChange:function(e){return s(e.target.name,e.target.value)},required:!0}),i.has("password")&&o.a.createElement("div",{className:"invalid-feedback"},i.first("password"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"passwordConfirmation",className:"sr-only"},"Confirm Password"),o.a.createElement("input",{type:"password",className:"form-control form-control-lg rounded-0 ".concat(i.has("passwordConfirmation")&&"is-invalid"),id:"passwordConfirmation",name:"passwordConfirmation",placeholder:"Confirm Password",value:n||"",onChange:function(e){return s(e.target.name,e.target.value)},required:!0}),i.has("passwordConfirmation")&&o.a.createElement("div",{className:"invalid-feedback"},i.first("passwordConfirmation"))),o.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",disabled:i.any()},"Sign Up"),o.a.createElement("p",null,"Back to",o.a.createElement(h.b,{to:"/login",className:"btn btn-link"},"Login")))};v.displayName="RegisterFrom",v.propTypes=b;var y=v;function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?g(t,!0).forEach((function(a){j(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function N(e,a){for(var t=0;t<a.length;t++){var r=a[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,a){return(S=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function j(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}var P=function(e){function a(e){var t,r,n;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,a),r=this,(t=!(n=C(a).call(this,e))||"object"!==w(n)&&"function"!=typeof n?O(r):n).validator=new f.a({name:"required|min:6",email:"required|email",password:"required|min:6",passwordConfirmation:"required|min:6"}),t.state={credentials:{name:"",email:"",password:"",passwordConfirmation:""},errors:t.validator.errors,fields:t.validator.fields},t.handleChange=t.handleChange.bind(O(t)),t.handleSubmit=t.handleSubmit.bind(O(t)),t}var t,r,n;return function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&S(e,a)}(a,e),t=a,(r=[{key:"componentDidMount",value:function(){c()("body").attr("style","background-color: #eee")}},{key:"componentWillUnmount",value:function(){c()("body").removeAttr("style")}},{key:"handleChange",value:function(e,a){var t=this,r=this.validator.errors;this.setState({credentials:E({},this.state.credentials,j({},e,a))}),r.remove(e),this.validator.validate(e,a).then((function(){t.setState({errors:r})}))}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state.credentials,r=this.validator.errors;this.validator.validateAll(t).then((function(e){e?a.submit(t):a.setState({errors:r})}))}},{key:"submit",value:function(e){var a=this;this.props.dispatch(Object(p.d)(e)).catch((function(e){var t=e.error,r=e.statusCode,n=a.validator.errors;422===r?d.a.forOwn(t,(function(e,a){n.add(a,e)})):401===r&&n.add("password",t),a.setState({errors:n})}))}},{key:"render",value:function(){if(this.props.isAuthenticated)return o.a.createElement(u.a,{to:"/"});var e=this.state.credentials,a={name:e.name,email:e.email,password:e.password,passwordConfirmation:e.passwordConfirmation,errors:this.state.errors,handleChange:this.handleChange,handleSubmit:this.handleSubmit};return o.a.createElement("div",{className:"container py-5"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"mx-auto"},o.a.createElement("span",{className:"anchor"}),o.a.createElement("div",{className:"card has-shadow"},o.a.createElement("div",{className:"card-body"},o.a.createElement(y,a))))))))}}])&&N(t.prototype,r),n&&N(t,n),a}(n.Component);j(P,"displayName","RegisterPage"),j(P,"propTypes",{isAuthenticated:s.a.bool.isRequired,dispatch:s.a.func.isRequired});var k=P;a.default=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(k)}}]);