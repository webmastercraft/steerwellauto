(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{cd5g:function(e,t,r){"use strict";var n=r("JvxN"),o=r("/KzK"),a=r("XyXq");function i(e){return{type:a.a,payload:e}}function c(e){return o.a.send(e)}function u(e){return o.a.fetch(e)}function l(e){return function(t){return new Promise((function(r,a){n.a.post("/articles",c(e)).then((function(e){return t(i(u(e.data))),r()})).catch((function(e){var t=e.response.status,r={error:null,statusCode:t};if(422===t){var n={errors:e.response.data,replace:!1,searchStr:"",replaceStr:""};r.error=o.a.resetValidationFields(n)}else 401===t&&(r.error=e.response.data.message);return a(r)}))}))}}function s(e){return function(t){return new Promise((function(r,a){n.a.patch("articles/".concat(e.id),c(e)).then((function(e){return t(i(u(e.data))),r()})).catch((function(e){var t=e.response.status,r={error:null,statusCode:t};if(422===t){var n={errors:e.response.data,replace:!1,searchStr:"",replaceStr:""};r.error=o.a.resetValidationFields(n)}else 401===t&&(r.error=e.response.data.message);return a(r)}))}))}}function f(e){return function(t){n.a.delete("articles/".concat(e)).then((function(){var r;t((r=e,{type:a.c,payload:r}))})).catch((function(e){console.error(e.response)}))}}function p(e){var t=e.pageNumber,r=void 0===t?1:t,o=e.url,i=void 0===o?"/articles":o;return function(e){r>1&&(i+="?page=".concat(r)),n.a.get(i).then((function(t){var r;e((r=u(t.data),{type:a.b,payload:r}))})).catch((function(e){console.error(e.response)}))}}function d(e){return function(t){n.a.get("articles/".concat(e)).then((function(e){t(i(u(e.data)))})).catch((function(e){console.error(e.response)}))}}r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"b",(function(){return d}))},fGzS:function(e,t,r){"use strict";r.r(t);var n=r("/MKj"),o=r("y6dB"),a=r("q1tI"),i=r.n(a),c=r("17x9"),u=r.n(c),l=r("LvDl"),s=r.n(l),f=r("cd5g"),p=r("pb+D"),d=r("gmCZ"),m={article:u.a.object.isRequired,errors:u.a.object.isRequired,onChange:u.a.func.isRequired,onSubmit:u.a.func.isRequired},b=function(e){var t=e.article,r=e.errors,n=e.onChange,o=e.onSubmit;function a(e,r){r!==t[e]&&n(e,r)}return i.a.createElement("form",{onSubmit:function(e){return o(e)}},i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{htmlFor:"title",className:"col-sm-2 col-form-label"},"Title"),i.a.createElement("div",{className:"col-sm-10"},i.a.createElement("input",{type:"text",id:"title",name:"title",className:"form-control ".concat(r.has("title")&&"is-invalid"),placeholder:"Title",value:t.title||"",onChange:function(e){return a(e.target.name,e.target.value)}}),r.has("title")&&i.a.createElement("div",{className:"invalid-feedback"},r.first("title")))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{htmlFor:"description",className:"col-sm-2 col-form-label"},"Description"),i.a.createElement("div",{className:"col-sm-10"},i.a.createElement("textarea",{id:"description",name:"description",className:"form-control ".concat(r.has("description")&&"is-invalid"),rows:"3",placeholder:"Description",value:t.description,onChange:function(e){return a(e.target.name,e.target.value)}}),r.has("description")&&i.a.createElement("div",{className:"invalid-feedback"},r.first("description")))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("label",{htmlFor:"content",className:"col-sm-2 col-form-label"},"Content"),i.a.createElement("div",{className:"col-sm-10"},i.a.createElement(d.a,{id:"content",value:t.content,onChange:function(e){return a("content",e)}}),r.has("content")&&i.a.createElement("div",{className:"invalid-feedback"},r.first("content")))),i.a.createElement("div",{className:"form-group row"},i.a.createElement("div",{className:"col-sm-10 ml-auto"},i.a.createElement("button",{disabled:r.any(),type:"submit",className:"btn btn-primary"},"Update"))))};b.displayName="ArticleFrom",b.propTypes=m;var h=b;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e){function t(e){var r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(o=S(t).call(this,e))||"object"!==y(o)&&"function"!=typeof o?E(n):o).validator=new p.a({title:"required|min:3",content:"required|min:10",description:"required|min:10"});var a=r.props.article.toJson();return r.state={article:a,errors:r.validator.errors},r.handleSubmit=r.handleSubmit.bind(E(r)),r.handleChange=r.handleChange.bind(E(r)),r}var r,n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),r=t,(n=[{key:"componentWillMount",value:function(){this.loadArticle()}},{key:"componentWillReceiveProps",value:function(e){var t=e.article.toJson();s.a.isEqual(this.state.article,t)||this.setState({article:t})}},{key:"loadArticle",value:function(){var e=this.props,t=e.match,r=e.article,n=e.dispatch;r.id||n(Object(f.b)(t.params.id))}},{key:"handleChange",value:function(e,t){var r=this,n=this.validator.errors;this.setState({article:O({},this.state.article,C({},e,t))}),n.remove(e),this.validator.validate(e,t).then((function(){r.setState({errors:n})}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var r=this.state.article,n=this.validator.errors;this.validator.validateAll(r).then((function(e){e?t.submit(r):t.setState({errors:n})}))}},{key:"submit",value:function(e){var t=this;this.props.dispatch(Object(f.e)(e)).catch((function(e){var r=e.error,n=e.statusCode,o=t.validator.errors;422===n&&s.a.forOwn(r,(function(e,t){o.add(t,e)})),t.setState({errors:o})}))}},{key:"renderForm",value:function(){if(this.props.article.id)return i.a.createElement(h,v({},this.state,{onChange:this.handleChange,onSubmit:this.handleSubmit}))}},{key:"render",value:function(){return i.a.createElement("main",{className:"col-sm-9 ml-sm-auto col-md-10 pt-3",role:"main"},i.a.createElement("h1",null,"Edit"),this.renderForm())}}])&&w(r.prototype,n),o&&w(r,o),t}(a.Component);C(P,"displayName","EditArticle"),C(P,"propTypes",{match:u.a.object.isRequired,article:u.a.object,dispatch:u.a.func.isRequired});var N=P;t.default=Object(n.b)((function(e,t){var r=t.match.params,n=e.articles.data.find((function(e){return e.id===Number(r.id)}));return{article:n?new o.a(n):new o.a({})}}))(N)},gmCZ:function(e,t,r){"use strict";var n=r("q1tI"),o=r.n(n),a=r("17x9"),i=r.n(a),c=r("v83y"),u=r("owPO"),l=r("bQ8i"),s=r.n(l);r("19BS");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h,y,v,g=function(e){function t(e){var r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(r=!(o=d(t).call(this,e))||"object"!==f(o)&&"function"!=typeof o?m(n):o).state={editorState:r.convertHtmlToEditorState(r.props.value)},r.onEditorStateChange=r.onEditorStateChange.bind(m(r)),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,e),r=t,(n=[{key:"convertHtmlToEditorState",value:function(e){if(e){var t=Object(c.convertFromHTML)(e),r=c.ContentState.createFromBlockArray(t.contentBlocks,t.entityMap);return c.EditorState.createWithContent(r)}}},{key:"onEditorStateChange",value:function(e){this.setState({editorState:e}),this.props.onChange(s()(Object(c.convertToRaw)(e.getCurrentContent())))}},{key:"render",value:function(){var e=this.state.editorState;return o.a.createElement("div",null,o.a.createElement(u.Editor,{editorState:e,wrapperClassName:"demo-wrapper",editorClassName:"form-control",onEditorStateChange:this.onEditorStateChange}))}}])&&p(r.prototype,n),a&&p(r,a),t}(n.Component);h=g,y="propTypes",v={value:i.a.string.isRequired,onChange:i.a.func.isRequired},y in h?Object.defineProperty(h,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):h[y]=v,t.a=g},y6dB:function(e,t,r){"use strict";var n=r("wd/R"),o=r.n(n),a=r("Ey4p"),i=r("4pai");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=l(this,f(t).call(this,e))).initialize(e),r}var r,n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),r=t,(n=[{key:"initialize",value:function(e){s(f(t.prototype),"initialize",this).call(this,e),this.slug=e.slug||"",this.title=e.title||"",this.description=e.description||"",this.content=e.content||"",this.published=e.published||!1,this.publishedAt=e.publishedAt?o()(e.publishedAt):null,this.user=e.user?new i.a(e.user):null}}])&&u(r.prototype,n),a&&u(r,a),t}(a.a);t.a=d}}]);